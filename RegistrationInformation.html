<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>RegistrationInformation</title>
    <script src="./common/flexible_css.debug.js " type="text/javascript "></script>
    <link rel="stylesheet" href="./css/RegistrationInformation.css" type=" text/css ">
    <script src="./common/flexible.debug.js " type="text/javascript "></script>
</head>

<body>
    <div class="ui-RegistrationInformation-header ">
        <h4>
            <a href=" ">
                <img src="./images/back_arrow.png " alt=" ">
            </a> 报名信息 </h4>
    </div>
    <div class="ui-img">
        <img src="./images/12340_03.jpg" alt="">
        <input type="file" id="files" style="display: none" onchange="fileImport();">
    </div>

    <ul class="ui-detail-list">
        <li>
            <label for="username">姓名：</label>
            <input type="text" id="username">
        </li>
        <li>
            <label for="age">年龄：</label>
            <input type="text" id="age">
        </li>
        <li>
            <label for="sex">性别：</label>
            <input type="text" id="sex">
        </li>
        <li>
            <label for="telephone">电话号码：</label>
            <input type="text" id="telephone">
        </li>
        <li>
            <label for="address">奖品配送地址：</label>
            <input type="text" id="address">
        </li>
    </ul>
    <h5>最多上传6张</h5>
    <ul class="ui-img-detail">
        <li>
            <img src="./images/12340_03.jpg" alt="">
            <input type="file" name="" id="files0" style="display: none" onchange="fileImports()">


        </li>
        <li class=" margin ">
            <img src="./images/12340_03.jpg " alt=" ">
            <input type="file" name="" id="files1" style="display: none" onchange="fileImports()">

        </li>

        <li>
            <img src="./images/12340_03.jpg " alt=" ">
            <input type="file" name="" id="files2" style="display: none" onchange="fileImports()">

        </li>
        <li>
            <img src="./images/12340_03.jpg " alt=" ">
            <input type="file" name="" id="files3" style="display: none" onchange="fileImports()">

        </li>
        <li>
            <img src="./images/12340_03.jpg " alt=" ">
            <input type="file" name="" style="display: none" onchange="fileImports()">

        </li>
        <li>
            <img src="./images/12340_03.jpg " alt=" ">
            <input type="file" name="" style="display: none" onchange="fileImports()">

        </li>
    </ul>
    <script src="./common//jquery-1.11.0.js " type="text/javascript "></script>
    <script>
        $(".ui-img-detail li").each(function(index) {
            console.log($(this).find("input"))
            $(this).find("input").attr('id', 'files' + index)
        });
    </script>
    <script>
        $(".ui-img-detail li img ").click(function() {
            $(this).next("input").click()
            return index = $(this).parent().index()
            console.log($(this).parent().index())
        })

        function fileImports() { //获取读取我文件的File对象 

            var ids = "files" + index;
            console.log(ids);
            var selectedFile = document.getElementById(ids).files[0];
            console.log(selectedFile)
            var name = selectedFile.name; //读取选中文件的文件名 
            var size = selectedFile.size; //读取选中文件的大小 
            // console.log("文件名: " + name + "大小: " + size); 
            var reader1 = new FileReader(); //这是核心,读取操作就是由它完成. 
            var target = this;
            var urll = reader1.readAsDataURL(selectedFile, " GB2312 "); //读取文件的内容,也可以读取文件的URL
            reader1.onload = function() { //当读取完成后回调这个函数,然后此时文件的内容存储到了result中,直接操作即可 // console.log(this.result);
                $(".ui-img-detail li").eq(index).find("img").attr('src', this.result)
                console.log($("target"))
            }
        }
    </script>
    <script type="text/javascript ">
        $(".ui-img img ").click(function() {
            $("#files ").click();
        })

        function fileImport() {
            //获取读取我文件的File对象
            var selectedFile = document.getElementById('files').files[0];
            console.log(selectedFile)
            var name = selectedFile.name; //读取选中文件的文件名
            var size = selectedFile.size; //读取选中文件的大小
            // console.log("文件名: " + name + "大小: " + size);

            var reader = new FileReader(); //这是核心,读取操作就是由它完成.
            var urll = reader.readAsDataURL(selectedFile, "GB2312 "); //读取文件的内容,也可以读取文件的URL

            reader.onload = function() {
                //当读取完成后回调这个函数,然后此时文件的内容存储到了result中,直接操作即可
                // console.log(this.result);
                $(".ui-img img ").attr('src', this.result)
            }
        }
    </script>
    <script>
        $(".ui-img-detail li span ").on("click ", function() {
            $(this).parent().remove();
        })
    </script>
</body>

</html>